pipeline: kubernetes

plugins:
  collectd:
    templatesDirs:
    - /mnt/templates
    - /etc/signalfx/collectd/templates
    staticPlugins:
      docker-default:
        extraDimensions:
          container_image: inspect:Config.Image
          container_name: inspect:Config.Labels['io.kubernetes.container.name']
          kubernetes_pod_name: inspect:Config.Labels['io.kubernetes.pod.name']
          kubernetes_pod_namespace: inspect:Config.Labels['io.kubernetes.pod.namespace']

  service-mapping:
    servicesFiles:
    - /mnt/services/custom-services.json
    - /etc/signalfx/collectd/services.json

  cadvisor:
    plugin: monitors/cadvisor
    dataSendRate: 30
    cadvisorURL: http://localhost:4194
